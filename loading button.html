<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>验证码倒计时</title>
    <style>
        .button-count {

        }
    </style>
</head>
<body>
<div class="">
    <button class="button-count">获取验证码</button>
</div>
<script>
    const log = console.log.bind(console)
    const e = (sel) => document.querySelector(sel)

    const bindEventButton = () => {
        let button = e(".button-count")
        let defaultStr = '获取验证码'
        let countStr = '正在发送'
        let startNum = 3
        let currentNum = startNum

        button.addEventListener('click', function() {
            button.disabled = "disabled"
            button.innerHTML = countStr + '(' + String(startNum) + ')'
            let counter = setInterval(function () {
                currentNum -= 1
                button.innerHTML = countStr + '(' + String(currentNum) + ')'
                if (currentNum <= 0) {
                    clearInterval(counter)
                    button.innerHTML = defaultStr
                    button.disabled = false
                    currentNum = startNum
                }
            }, 1000)
        })
    }

    const __main = () => {
        bindEventButton()
    }
    __main()

</script>
</body>
</html>